                             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                             ‚îÇ   exec_ast(node)   ‚îÇ
                             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                          ‚îÇ
                             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                             ‚îÇ   node == NULL ?   ‚îÇ
                             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇYes    ‚îÇNo
                                     ‚ñº       ‚ñº
                               return 0   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                          ‚îÇ switch(node->type) ‚îÇ
                                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                   ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº                                          ‚ñº                                            ‚ñº
[NODE_COMMAND]                            [NODE_PIPE]                                 [NODE_AND / NODE_OR]
        ‚îÇ                                          ‚îÇ                                            ‚îÇ
        ‚ñº                                          ‚ñº                                            ‚ñº
is_builtin(node->command->argv[0]) ?      create pipe()                                 exec_ast(node->left)
        ‚îÇ                                          ‚îÇ                                            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Yes   ‚îÇ                              ‚îÇ  fork left   ‚îÇ                            ‚îÇ   Get status    ‚îÇ
    ‚ñº        ‚ñº                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ  of left child  ‚îÇ
apply_redirs()  fork()                             ‚îÇ                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ child ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 wait                                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ        ‚îÇ  exec_builtin() ‚îÇ                   ‚îÇ                                   ‚îÇ if AND: status==0 ‚îÇ
    ‚îÇ        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                             ‚îÇ if OR: status!=0  ‚îÇ
    ‚îÇ        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ parent ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ fork right‚îÇ                             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ        ‚îÇ  wait + restore ‚îÇ             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                    ‚ñº
    ‚îÇ        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îÇ                                    exec_ast(node->right)
    ‚ñº                                              ‚ñº
exec_external() ‚Üí execve()                  wait both children
    ‚îÇ                                              ‚îÇ
    ‚ñº                                              ‚ñº
 return status                              return last status

        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº                                                                            ‚ñº
[NODE_SUBSHELL]                                                              [DEFAULT / ERROR]
        ‚îÇ                                                                            ‚îÇ
        ‚ñº                                                                            ‚ñº
    fork()                                                                  print error & exit
        ‚îÇ
 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 ‚îÇ  child     ‚îÇ
 ‚îÇ  exec_ast(node->left) ‚îÄ‚îÄ‚îÄ> recursive walk into subshell
 ‚îÇ  exit()    ‚îÇ
 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
     waitpid
	    ‚îÇ
        ‚ñº
   return status



   –î–∞, —Ç—ã –ø–æ–Ω—è–ª –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Ä–Ω–æ. –ü—Ä–æ–¥–æ–ª–∂–∞—é –ø–æ—à–∞–≥–æ–≤–æ –≤ —Ç–æ–º –∂–µ —Å—Ç–∏–ª–µ:

---

## ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NODE_COMMAND`

1. **–≠—Ç–æ –ª–∏—Å—Ç –¥–µ—Ä–µ–≤–∞** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç `t_command *` (argv + redirs).
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º: —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∫–æ–º–∞–Ω–¥–∞ `builtin`?

   * **–ï—Å–ª–∏ –¥–∞**:

     * –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã: `apply_redirections(node->command->redirections)`
     * –í—ã–ø–æ–ª–Ω—è–µ–º `builtin` –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ fork).
     * –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ `stdin/stdout` (–µ—Å–ª–∏ –±—ã–ª–æ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–æ).
     * –°–æ—Ö—Ä–∞–Ω—è–µ–º `exit_status`.
   * **–ï—Å–ª–∏ –Ω–µ—Ç**:

     * –°–æ–∑–¥–∞—ë–º `fork()`

       * –í **–¥–æ—á–µ—Ä–Ω–µ–º**:

         * –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã.
         * –í—ã–∑—ã–≤–∞–µ–º `execve()` —Å `argv` –∏ `envp`.
       * –í **—Ä–æ–¥–∏—Ç–µ–ª–µ**:

         * –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.
         * –ß–∏—Ç–∞–µ–º `exit_status`.

---

## ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NODE_PIPE`

1. –°–æ–∑–¥–∞—ë–º `pipe()`.
2. –§–æ—Ä–∫–∞–µ–º **–ª–µ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å**:

   * –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º `stdout` –≤ `pipe[1]`.
   * –ó–∞–∫—Ä—ã–≤–∞–µ–º `pipe[0]` (–Ω–µ —á–∏—Ç–∞–µ–º).
   * –í—ã–∑—ã–≤–∞–µ–º `exec_ast(node->left)`.
3. –§–æ—Ä–∫–∞–µ–º **–ø—Ä–∞–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å**:

   * –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º `stdin` –≤ `pipe[0]`.
   * –ó–∞–∫—Ä—ã–≤–∞–µ–º `pipe[1]` (–Ω–µ –ø–∏—à–µ–º).
   * –í—ã–∑—ã–≤–∞–µ–º `exec_ast(node->right)`.
4. –í —Ä–æ–¥–∏—Ç–µ–ª–µ:

   * –ó–∞–∫—Ä—ã–≤–∞–µ–º –æ–±–∞ –∫–æ–Ω—Ü–∞ pipe.
   * –ñ–¥—ë–º –æ–±–∞ –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞.
   * –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ.

---

## ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NODE_AND` (–ª–æ–≥–∏—á–µ—Å–∫–æ–µ `&&`)

1. –í—ã–ø–æ–ª–Ω—è–µ–º `exec_ast(node->left)`.
2. –ï—Å–ª–∏ `exit_status == 0`, –≤—ã–ø–æ–ª–Ω—è–µ–º `exec_ast(node->right)`.
3. –ò–Ω–∞—á–µ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–∞–≤—É—é –≤–µ—Ç–∫—É.
4. –°–æ—Ö—Ä–∞–Ω—è–µ–º `exit_status` –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.

---

## ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NODE_OR` (–ª–æ–≥–∏—á–µ—Å–∫–æ–µ `||`)

1. –í—ã–ø–æ–ª–Ω—è–µ–º `exec_ast(node->left)`.
2. –ï—Å–ª–∏ `exit_status != 0`, –≤—ã–ø–æ–ª–Ω—è–µ–º `exec_ast(node->right)`.
3. –ò–Ω–∞—á–µ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–∞–≤—É—é –≤–µ—Ç–∫—É.
4. –°–æ—Ö—Ä–∞–Ω—è–µ–º `exit_status` –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.

---

## ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NODE_SUBSHELL` (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–∫–æ–±–∫–∏)

1. –î–µ–ª–∞–µ–º `fork()`.
2. –í **–¥–æ—á–µ—Ä–Ω–µ–º**:

   * –í—ã–ø–æ–ª–Ω—è–µ–º `exec_ast(node->left)` (–≤–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ).
   * –í—ã–∑—ã–≤–∞–µ–º `exit(exit_status)` ‚Äî –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –æ–±–æ–ª–æ—á–∫—É.
3. –í **—Ä–æ–¥–∏—Ç–µ–ª–µ**:

   * –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.
   * –°–æ—Ö—Ä–∞–Ω—è–µ–º `exit_status`.

---

## ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `exec_ast()` –≤ –∏—Ç–æ–≥–µ:

* –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –¥–µ—Ä–µ–≤—É.
* –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –≤–µ—Ç–≤–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∏—Ö –ª–æ–≥–∏–∫–æ–π.
* –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã, –ø–∞–π–ø—ã, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ —Å–∫–æ–±–∫–∏.
* –û–±–Ω–æ–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π `g_exit_status`.

---

–ï—Å–ª–∏ –≤—Å—ë —è—Å–Ω–æ, –º–æ–∂–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é `executor.h` –∏ –±–∞–∑–æ–≤–æ–≥–æ —Å–∫–µ–ª–µ—Ç–∞ `executor.c`.

#########################################################
################## COMMON INSTRUCTIONS ##################
#########################################################

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ                               | –ù–∞—Ä—É—à–∞–µ–º? | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                                    |
| ---------------------------------------- | --------- | -------------------------------------------------------------- |
| –ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ C                      | ‚ùå        | –í—Å—ë –Ω–∞ C ‚úÖ                                                     |
| –°–æ–±–ª—é–¥–µ–Ω–∏–µ Norm                          | ‚ùå         | –ú—ã —Å–ª–µ–¥—É–µ–º Norm (–∏–º–µ–Ω–∞, –æ—Ç—Å—Ç—É–ø—ã, –¥–ª–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ç.–¥.) ‚úÖ       |
| –ë–µ–∑ —Å–±–æ–µ–≤ (segfault, double free)        | ‚ùå         | –ú—ã —É—á–∏—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏, –≤—ã–¥–µ–ª—è–µ–º –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ |
| –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏                        | ‚ùå         | –£ –Ω–∞—Å –±—É–¥–µ—Ç `clean_token_list`, `free_ast`, –∏ —Ç.–¥. ‚úÖ           |
| Makefile —Å –Ω—É–∂–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏             | ‚è≥         | –†–µ–∞–ª–∏–∑—É–µ–º –ø–æ–∑–∂–µ (NAME, all, clean, fclean, re, bonus)          |
| –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ bonus-–º–æ–¥—É–ª—è –∏ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç–∏ | ‚è≥         | –£—á–∏—Ç—ã–≤–∞–µ–º —ç—Ç–æ –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ (`_bonus.c/.h`)                 |
| –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `libft` —á–µ—Ä–µ–∑ Makefile       | ‚ùå         | –£ –Ω–∞—Å `libft` –≤ –ø–∞–ø–∫–µ `libft/`, –ø–æ–¥–∫–ª—é—á–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ         |
| –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤                          | ‚ùå         | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ —Å–∞–±–∂–µ–∫—Ç—É, –Ω–æ –º—ã —É–∂–µ –≤–µ–¥—ë–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ       |
| –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–ª—å–∫–æ –≤ Git                    | ‚ùå         | –¢—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–±–ª—é–¥–µ–Ω–∏—è Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ‚úÖ                    |

üîç –ò—Ç–æ–≥ –ø–æ –ø–µ—Ä–≤–æ–º—É –±–ª–æ–∫—É:
–ú—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.
üëâ –ù–∞—Ä—É—à–µ–Ω–∏–π –Ω–µ—Ç, —Ç–æ–ª—å–∫–æ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–Ω—ã: Makefile –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞ (—ç—Ç–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è).


#########################################################
##################### MANDATORY PART ####################
#########################################################

–û—Ç–ª–∏—á–Ω–æ. –≠—Ç–æ –≤—Ç–æ—Ä–æ–π –±–ª–æ–∫ ‚Äî **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**, –≤–∫–ª—é—á–∞—è —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ shell. –ü—Ä–æ–≤–µ—Ä–∏–º —Å—Ç—Ä–æ–≥–æ –∏ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ:

---

## ‚úÖ 1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**

| –§–∞–∫—Ç                                               | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                |
| -------------------------------------------------- | ------ | ------------------------------------------ |
| –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ | ‚úÖ      | –ù–∏–∫–∞–∫–∏—Ö `strdup`, `system`, `popen` –∏ —Ç.–ø. |
| –ú–∞–∫—Ä–æ—Å—ã —Ç–∏–ø–∞ `WIFEXITED` –∏ `WEXITSTATUS`           | ‚úÖ      | –≠—Ç–æ –º–∞–∫—Ä–æ—Å—ã, –Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —Ä–∞–∑—Ä–µ—à–µ–Ω—ã        |

---

## ‚úÖ 2. **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                                                    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ         | –°—Ç–∞—Ç—É—Å               |
| ------------------------------------------------------------- | ------------------ | -------------------- |
| `g_exit_status`                                               | —Ö—Ä–∞–Ω–∏—Ç `$?`        | ‚úÖ OK                 |
| `g_sigint`                                                    | —Ö—Ä–∞–Ω–∏—Ç —Ñ–∞–∫—Ç SIGINT | ‚úÖ OK                 |
| –ò—Å–ø–æ–ª—å–∑—É–µ–º **—Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤** | ‚úÖ                  | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å–æ–±–ª—é–¥–µ–Ω–æ |

---

## ‚úÖ 3. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å shell**

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ                             | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                                               |                                         |
| -------------------------------------- | ------ | ------------------------------------------------------------------------- | --------------------------------------- |
| –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å prompt                      | ‚úÖ      | readline —É–∂–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏                                              |                                         |
| –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥                         | ‚úÖ      | —Å readline, `add_history()`                                               |                                         |
| –ò—Å–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏–∑ PATH              | üü°     | –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `exec_external()` —á–µ—Ä–µ–∑ `getenv("PATH")` + `access()` |                                         |
| –†–∞—Å–∫—Ä—ã—Ç–∏–µ `$VAR`, `$?`                 | ‚úÖ      | –¥–µ–ª–∞–µ—Ç—Å—è –≤ `expander()`                                                   |                                         |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ `ctrl-C`, `ctrl-D`, `ctrl-\` | ‚úÖ      | —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `signals.c`                                             |                                         |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–≤—ã—á–µ–∫ `'` –∏ `"`            | ‚úÖ      | —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `lexer`                                                     |                                         |
| –ù–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å `\` –∏ `;`          | ‚úÖ      | `lexer` –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–∏ —Å–∏–º–≤–æ–ª—ã                                       |                                         |
| –†–µ–¥–∏—Ä–µ–∫—Ç—ã `<`, `>`, `>>`, `<<`         | üü°     | –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ (`apply_redirections()` –Ω–∞ –ø–æ–¥—Ö–æ–¥–µ)                            |                                         |
| –ü–∞–π–ø—ã \`                               | \`     | üü°                                                                        | —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ª–æ–∂–µ–Ω–∞, –±—É–¥–µ—Ç `exec_pipe()` |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ builtins                     | üü°     | `exec_builtin()` –∏ `is_builtin()` —É–∂–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã                       |                                         |

---

## ‚úÖ 4. **Builtins**

| –ö–æ–º–∞–Ω–¥–∞   | –°—Ç–∞—Ç—É—Å      |
| --------- | ----------- |
| `echo -n` | ‚úÖ —Ä–µ–∞–ª–∏–∑—É–µ–º |
| `cd`      | üü°          |
| `pwd`     | üü°          |
| `export`  | üü°          |
| `unset`   | üü°          |
| `env`     | üü°          |
| `exit`    | üü°          |

üîπ –í—Å—ë –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ—ç—Ç–∞–ø–Ω–æ —á–µ—Ä–µ–∑ `builtin.c`.

---

## ‚ùó –û—Å–æ–±–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ

> The readline() function can cause memory leaks. You don‚Äôt have to fix them.
> But that **doesn‚Äôt mean your own code** can have memory leaks.

üìå –ú—ã –æ–±—è–∑–∞–Ω—ã:

* –ø—Ä–æ–≤–µ—Ä—è—Ç—å `malloc` –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –≤—Å—ë, —á—Ç–æ –º—ã —Å–∞–º–∏ –≤—ã–¥–µ–ª–∏–ª–∏.
* **–Ω–µ –¥–æ–ø—É—Å–∫–∞—Ç—å —É—Ç–µ—á–µ–∫**, –∫—Ä–æ–º–µ –∫–∞–∫ –≤ `readline()`.

---

## üü¢ –í—ã–≤–æ–¥:

| –ì—Ä—É–ø–ø–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π          | –°–æ–±–ª—é–¥–∞–µ—Ç—Å—è?  |
| -------------------------- | ------------- |
| –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏        | ‚úÖ             |
| –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤         | ‚úÖ             |
| –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `$VAR`, `$?`    | ‚úÖ             |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ `Ctrl+C/D/\`     | ‚úÖ             |
| –ö–∞–≤—ã—á–∫–∏, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã       | ‚úÖ             |
| –ò—Å—Ç–æ—Ä–∏—è + prompt           | ‚úÖ             |
| –†–µ–¥–∏—Ä–µ–∫—Ç—ã, –ø–∞–π–ø—ã, builtins | üü° –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ |
| –£—Ç–µ—á–µ–∫ –≤ –∫–æ–¥–µ –Ω–µ—Ç          | ‚úÖ             |

---


#########################################################
###################### BONUS PART #######################
#########################################################

–û—Ç–ª–∏—á–Ω–æ. –≠—Ç–æ —Ç—Ä–µ—Ç–∏–π –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –±–ª–æ–∫ ‚Äî **bonus part**. –ü—Ä–æ–≤–µ—Ä–∏–º —Å—Ç—Ä–æ–≥–æ –ø–æ –ø—É–Ω–∫—Ç–∞–º:

---

## üéØ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–æ–Ω—É—Å–Ω–æ–π —á–∞—Å—Ç–∏:

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ                    | –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç                             |    |                                  |
| ----------------------------- | ---------------------------------------- | -- | -------------------------------- |
| `&&` –∏ \`                     |                                          | \` | –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã "–∏" –∏ "–∏–ª–∏" |
| –°–∫–æ–±–∫–∏ `()`                   | –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –∫–∞–∫ –≤ bash          |    |                                  |
| `*` (wildcards)               | —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ bash ‚Äî –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ |    |                                  |
| –¢–æ–ª—å–∫–æ **—Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è** | `*` –Ω–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π                       |    |                                  |

---

## ‚úÖ –ù–∞—à —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç     | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                                                   |   |                                                                                                        |
| ------------- | ------ | ----------------------------------------------------------------------------- | - | ------------------------------------------------------------------------------------------------------ |
| `&&`, \`      |        | \`                                                                            | ‚úÖ | `lexer` —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç ‚Üí `parser` —Å–æ–∑–¥–∞—ë—Ç `NODE_AND/OR` ‚Üí `executor` –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –≤ `exec_and/exec_or()` |
| `()` (—Å–∫–æ–±–∫–∏) | ‚úÖ      | —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è `NODE_SUBSHELL` ‚Üí –≤ `exec_subshell()` –±—É–¥–µ—Ç `fork()` |   |                                                                                                        |
| `wildcards *` | ‚ùå      | –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ                                                           |   |                                                                                                        |

---

## üìå –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

### üîπ –ú–æ–¥—É–ª—å –¥–ª—è `wildcards`:

* –†–∞—Å–∫—Ä—ã–≤–∞—Ç—å `*` –≤ —Å–ø–∏—Å–∫–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥—ã.
* –î–µ–ª–∞—Ç—å —ç—Ç–æ **—Ç–æ–ª—å–∫–æ –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏**.
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: `opendir()`, `readdir()`, `closedir()` (—Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤ —Å–∞–±–∂–µ–∫—Ç–µ).
* –£—á–∏—Ç—ã–≤–∞—Ç—å `quote_map` –∏–∑ —Ç–æ–∫–µ–Ω–∞ ‚Äî `*` –≤ –∫–∞–≤—ã—á–∫–∞—Ö –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è.

---

## üü¢ –í—ã–≤–æ–¥:

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ      | –°–æ–±–ª—é–¥–µ–Ω–æ           |    |   |
| --------------- | ------------------- | -- | - |
| `&&`, \`        |                     | \` | ‚úÖ |
| `()`            | ‚úÖ                   |    |   |
| `*` (wildcards) | ‚ùå –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å |    |   |

---

